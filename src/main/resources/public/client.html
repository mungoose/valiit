<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Bank of USE</title>
    <link rel="stylesheet" href="style.css">
    <a href="client.html">Add client</a>
    <a href="addAccount.html">Add account</a>
    <a href="addMoney.html">Add money</a>
    <a href="withdrawMoney.html">Withdraw money</a>
    <a href="transferMoney.html">Transfer money</a>
    <a href="account.html">Account info</a>
    <a href="bankHistory.html">Bank history</a>
    <br>
    <br>
</head>
<body>
<h1>Bank of the United States of Estonia</h1>
<h2>Become a client</h2>
<div class="add">
    <form method="post">
        <h2>Insert name</h2>
        <input type="text" id="firstName" required placeholder="First name *">
        <br>
        <input type="text" id="lastName" required placeholder="Last name *">
        <br>
        <button type="button" id="addClientButton">Add account</button>
        <br>
        <p>* Required field</p>
    </form>
</div>
<div id="added">
    <h3 id="congratulations"></h3>
    <h3 id="clientAdded"></h3>
    <h2 id="uniqueId"></h2>
    <h1 id="demo"></h1>
</div>


<script>
    let myButton = document.getElementById("addClientButton");
    myButton.onclick = function () {
        let inputFirstName = document.getElementById("firstName").value;
        let inputLastName = document.getElementById("lastName").value;
        // alert("client name: " + inputFirstName + " " + inputLastName);
        return fetch("http://localhost:8080/Bank2/addClient2?firstName=" + inputFirstName + "&lastName=" + inputLastName,
            {
                method: 'POST'
            }
        ).then(response => response.json()
        ).then(
            function (response) {
                // console.log(response)
                document.getElementById("congratulations").innerText = "Congratulations!";
                document.getElementById("clientAdded").innerText = "Your are now our client.";
                document.getElementById("uniqueId").innerText = "Your unique ID is:";
                document.getElementById("demo").innerHTML = response.id;
            }
        );
    }
</script>
</body>
</html>